<div class="container">
  <div class="row">
    <div class="bg-light p-4">
      <h2 class="fw-bold mb-4">SERVIÇOS</h2>
      <h5 class="fw-bold mb-2">GARANTIA ESTENDIDA</h5>

      <ng-container *ngFor="let garantia of garantiasPorProduto">
        <div class="form-check mb-2">
         <label class="form-check-label"> 
          <input
            class="form-check-input"
            type="radio"
            [name]="'garantia' + produto.id"
            [value]="garantia.nome"
            [(ngModel)]="produto.garantiaSelecionada"
            (change)="atualizarGarantia(garantia)"
          />
          
            <span *ngIf="garantia.nome === 'Sem garantia'">
              {{ garantia.descricao }}
            </span>
            <span *ngIf="garantia.nome !== 'Sem garantia'">
              Garantia estendida {{garantia.nome}}({{ garantia.valor | currency : "BRL" }})
            </span>
          </label>
        </div>
      </ng-container>

      <div
        *ngIf="
          produto.garantiaSelecionada &&
          produto.garantiaSelecionada !== 'sem garantia'
        "
        class="bg-light p-4 mt-3 d-flex justify-content-between align-items-center"
      >
        <b style="color: rgb(127, 133, 141)">
          Garantia estendida -
          <span [ngStyle]="{ color: 'blue' }">{{
            produto.garantiaSelecionada
          }}</span>
        </b>
        <b style="color: rgb(0, 0, 0)">
          Subtotal serviços:
          <span style="font-weight: normal">
            ({{ valorGarantia | currency : "BRL" }})
          </span>
        </b>
      </div>
    </div>
  </div>
</div>

